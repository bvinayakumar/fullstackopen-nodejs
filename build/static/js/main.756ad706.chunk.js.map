{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","onDelete","name","number","onClick","Persons","persons","map","PersonForm","onNameChange","onNumberChange","addPerson","onSubmit","value","onChange","type","Filter","baseUrl","operations","getAll","axios","get","then","response","data","create","newObject","post","catch","error","update","id","put","remove","delete","Notification","message","isError","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","nameFilter","setNameFilter","notificationMessage","setNotificationMessage","setIsError","useEffect","personService","personsToShow","length","filter","p","toLowerCase","indexOf","trim","event","target","preventDefault","foundPerson","find","changedPerson","returnedPerson","setTimeout","personObject","concat","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.756ad706.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, onDelete }) => (\r\n  <li>\r\n    {person.name} {person.number} <button onClick={onDelete(person)}>delete</button>\r\n  </li>\r\n)\r\n\r\nexport default Person\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, onDelete }) => (\r\n  <ul>\r\n    {persons.map(person => (\r\n      <Person key={person.name} person={person} onDelete={onDelete} />\r\n    ))}\r\n  </ul>\r\n)\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ name, number, onNameChange, onNumberChange, addPerson }) => (\r\n    <form onSubmit={addPerson}>\r\n    <div>\r\n      name: <input value={name} onChange={onNameChange} />\r\n      <div>\r\n        number: <input value={number} onChange={onNumberChange} />\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <button type='submit'>add</button>\r\n    </div>\r\n  </form>\r\n\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({ name, onChange }) => (\r\n    <div>\r\n        filter shown with:\r\n        <input value={name} onChange={onChange} />\r\n    </div>\r\n)\r\n\r\nexport default Filter\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject, {})\r\n  return request\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n    .catch(error => {\r\n      throw error.response.data.error\r\n    })\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request\r\n    .then(response => response.data)\r\n    .catch(error => {\r\n      throw error.response.data.error\r\n    })\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n}\r\n\r\nconst operations = { getAll, create, update, remove }\r\n\r\nexport default operations\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, isError }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (isError) {\r\n    return <div className='error'>{message}</div>\r\n  } else {\r\n    return <div className='notification'>{message}</div>\r\n  }\r\n\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setNameFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [isError, setIsError] = useState(false)\n\n  useEffect(() => {\n    personService.getAll().then(persons => {\n      setPersons(persons)\n    })\n  }, [])\n\n  const addPerson = event => {\n    event.preventDefault()\n\n    const foundPerson = persons.find(p => p.name === newName)\n    if (foundPerson) {\n      const changedPerson = { ...foundPerson, name: newName, number: newNumber }\n      const id = foundPerson.id\n      personService.update(id, changedPerson).then(returnedPerson => {\n        setNotificationMessage(\n          `Number changed for '${returnedPerson.name}'`\n        )\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n\n        setPersons(persons.map(person => (person.id !== id ? person : returnedPerson)))\n        setNewName('')\n        setNewNumber('')\n      }).catch(error => {\n        setNotificationMessage(\n          `Information of '${changedPerson.name}' has already been removed from server`\n        )\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n        setPersons(persons.filter(person => person.id !== id))\n        setNewName('')\n        setNewNumber('')\n      })\n    } else if (newName && newNumber) {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService.create(personObject).then(returnedPerson => {\n        setNotificationMessage(\n          `Added '${returnedPerson.name}'`\n        )\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n      }).catch(error => {        \n        setNotificationMessage(\n          `${error}`\n        )\n        setIsError(true)\n        setTimeout(() => {\n          setNotificationMessage(null)\n          setIsError(false)\n        }, 5000)        \n      })\n    }\n  }\n\n  const handleNameChange = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilterChange = event => {\n    setNameFilter(event.target.value)\n  }\n\n  const handleDelete = person => () => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n      .remove(person.id)\n      .then(() => setPersons(persons.filter(p => p.id !== person.id)))\n    }\n  }\n\n  let personsToShow = nameFilter.length\n    ? persons.filter(\n        p => p.name.toLowerCase().indexOf(nameFilter.trim().toLowerCase()) > -1\n      )\n    : persons\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} isError={isError} />\n      <Filter name={nameFilter} onChange={handleNameFilterChange} />\n\n      <h2>Add a new</h2>\n      <PersonForm\n        name={newName}\n        number={newNumber}\n        onNameChange={handleNameChange}\n        onNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} onDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}